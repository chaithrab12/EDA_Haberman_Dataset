# -*- coding: utf-8 -*-
"""Assignment_EDA_Chaithra.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1KZpEx5nbAN3x0qVw1CKHWlcIV6MLr44M

# **Explorartory data analysis on Haberman data set**
"""

#import the necessary modules
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

#read the data from file and store as dataframe
data = pd.read_csv('/content/sample_data/haberman.csv')

#check the dataset size
data.shape

#print the first 5 rows of dataframe
data.head(5);

#so we have 306 data sets and  3 features and one label

data.columns

"""**Dataset features description**
*   The haberman data has 3 features and 1 label
*   They are 'age', 'year', 'nodes' and 'status'
*   Status - is the label, if its 1 then patient survied for more than 5 years after operation else if its 2  patient survied for less than 5 years
*  age - the age when the patient undergone opertion
*  year - year when the patient was operated
"""

data["status"].value_counts()

#check for null values
data.isnull().values.any()

#no null values

#check for duplicates

duplicates = data[data.duplicated()]
duplicates.shape

#drop duplicates
data = data.drop_duplicates()
data.shape

data.describe()

data.plot(kind ='scatter', x='age',y='nodes',figsize=(10,10))
plt.show();

"""Insights from above plot
- We can see population between age 40 to 60 seems to have more number of cases where ppl have nodes in  Auxiliary lymph

"""

plt.close()
data.plot(kind ='scatter', x= 'status', y='year')
plt.show()

"""**Observations**

*  The plot is uniform 
*   No much inforation between year of operation and survival status




"""

ageByGroup = data.groupby(['age'])
for age,status in ageByGroup:
  print(age)
  print(status)
# print(data['age'].value_counts());

plt.close();
sns.set_style("whitegrid");
sns.pairplot(data,hue='status',height=4)

plt.close();
sns.FacetGrid(data,hue='status',height=5).map(sns.histplot,"nodes").add_legend()

"""**Observations:**


1.   This is the histogram of number nodes
2.   From the histogram we can understand that population with nodes less than around 2-3 nodes have more chances of surviving for more than 5 years after operation



"""

plt.close();
sns.FacetGrid(data, hue="status", height=4).map(sns.histplot, "age").add_legend();

plt.close();
sns.FacetGrid(data, hue='status',height =4).map(sns.histplot,"year").add_legend();

"""**Conclusions:**

*   Bascially when we saw the pairplot none of them give us more difference in the data points plot
*   The plots  age vs status and years vs status are uniform. That means the survival chances after the operation doesn't depend neither on the age of patient nor on the year of operation.
*   So, we can conclude the survival chances of the patient is more when the patient have less number of node typically less than 3. This we can see in the histogarm plot of nodes and status
*   Hence patients should be operated before the nodes spreed to others parts and we can increase the survival years of the patient





"""